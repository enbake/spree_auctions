<%navigation = Spree::Navigation.all.collect{|p| [p.url, p.url]}%>
<%navigation << ["other"]%>
<%= form_for [:admin, @navigation] do |f| %>
<table class="no-border">
	<tr class="no=border">
		<td class="no-border">
			<%= f.label :name %>
		</td>
		<td class="no-border">
			<%= f.text_field :name, required:true %>
		</td>
	</tr>
	
	<tr class="no=border" style="border-right: 1px solid #cee1f4;" >
		<td class="no-border">
			<%= f.label :url %>
		</td>
		<td class="no-border">
			<%= f.select :url, navigation, include_blank: "None" %>
			<br>
			<%= f.text_field :url, :id => "other_url", :style => "display: none; width: 50%; margin-top: 10px;"%>
		    <%= f.hidden_field :custom_url, :id => "custom_url_field"%>
		
		</td>
		
	</tr>
	 <tr>
    	<td class="no_border"></td>
        <td class="no_border" colspan= "2" style="float:right;">
            <%= f.submit 'Save' %>
        </td>
    </tr>
 </table>
<% end %>
<script>
  $(document).on("change", "#navigation_url", function(){
    if ($(this).val() == "other"){
        $("#other_url").show();
        $("#other_url").prop("disabled", false);
        $("#custom_url_field").attr('value', true);
    }
    else{
        $("#other_url").hide();
        $("#other_url").prop("disabled", true);
        $("#custom_url_field").attr('value', false);
    }
});
</script>


